import{r as e}from"./vendor-react-BpTY7yiE.js";import{g as t,S as r}from"./vendor-gsap-Dy24hvDL.js";import{u as n}from"./index-BLHSmbu2.js";t.registerPlugin(r);const u=(u=56,o=.7,i=!1,a)=>{var l;const[c,s]=e.useState(!1),{isMobileOrTablet:m}=n({}),f=e.useRef(null),d=e.useRef(null),p=e.useRef(null),g=e.useRef(null),h=e.useRef(null),S=m?document.querySelector(".smooth-wrapper")||null:(null==(l=window.ScrollSmoother)?void 0:l.wrapper())||document.querySelector("#smooth-wrapper")||null,v=e.useCallback(()=>{if(!f.current||!d.current||!p.current)return;if(c)return;t.set([d.current,p.current],{fontVariantNumeric:"tabular-nums",fontFeatureSettings:'"tnum"',width:"1ch",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap"}),t.fromTo(f.current,{autoAlpha:0},{autoAlpha:1,duration:Math.min(.4,.4*o),ease:"expo.inOut"});const e={value:0};g.current=t.to(e,{value:u,duration:o,ease:"none",snap:{value:1},onUpdate:()=>{const t=Math.max(0,Math.min(u,Math.round(e.value))),r=Math.floor(t/10),n=t%10;d.current.textContent=0===r?"":String(r),p.current.textContent=String(n)},onComplete:()=>{const e=Math.floor(u/10),t=u%10;d.current.textContent=0===e?"":String(e),p.current.textContent=String(t),s(!0)}})},[u,o,c]);e.useEffect(()=>{if(!f.current)return;const e=setTimeout(()=>{f.current&&(h.current=r.create({trigger:f.current,start:`center+=${f.current.offsetHeight/2}px bottom`,onEnter:v,invalidateOnRefresh:!0,immediateRender:!1,once:!0,id:`trigger-counting-animation-${a}`,...S&&{scroller:S,pinType:"fixed"}}))},100);return()=>{clearTimeout(e),h.current&&(h.current.kill(),h.current=null),g.current&&(g.current.kill(),g.current=null)}},[a,S]);const x=i?{isAnimated:c,targetNumber:u,duration:o,hasElement:!!f.current,hasTensDigit:!!d.current,hasOnesDigit:!!p.current}:null;return{elementRef:f,tensDigitRef:d,onesDigitRef:p,isAnimated:c,debugInfo:x}};export{u};
