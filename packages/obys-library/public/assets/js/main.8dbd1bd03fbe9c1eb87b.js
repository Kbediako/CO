(self.webpackChunkttf=self.webpackChunkttf||[]).push([["main"],{"./node_modules/lodash.debounce/index.js":(t,e,s)=>{var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,n=/^0o[0-7]+$/i,r=parseInt,l="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g,h="object"==typeof self&&self&&self.Object===Object&&self,c=l||h||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,g=function(){return c.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var s=a.test(t);return s||n.test(t)?r(t.slice(2),s?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,s){var i,o,a,n,r,l,h=0,c=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function w(e){var s=i,a=o;return i=o=void 0,h=e,n=t.apply(a,s)}function y(t){var s=t-l;return void 0===l||s>=e||s<0||d&&t-h>=a}function b(){var t=g();if(y(t))return S(t);r=setTimeout(b,function(t){var s=e-(t-l);return d?p(s,a-(t-h)):s}(t))}function S(t){return r=void 0,f&&i?w(t):(i=o=void 0,n)}function A(){var t=g(),s=y(t);if(i=arguments,o=this,l=t,s){if(void 0===r)return function(t){return h=t,r=setTimeout(b,e),c?w(t):n}(l);if(d)return r=setTimeout(b,e),w(l)}return void 0===r&&(r=setTimeout(b,e)),n}return e=v(e)||0,m(s)&&(c=!!s.leading,a=(d="maxWait"in s)?u(v(s.maxWait)||0,e):a,f="trailing"in s?!!s.trailing:f),A.cancel=function(){void 0!==r&&clearTimeout(r),h=0,i=l=o=r=void 0},A.flush=function(){return void 0===r?n:S(g())},A}},"./src/assets/js/index.js":(t,e,s)=>{function i(t,{include:e,exclude:s}={}){const i=t=>{const i=e=>"string"==typeof e?t===e:e.test(t);return e?e.some(i):!s||!s.some(i)};for(const[e,s]of(t=>{const e=new Set;do{for(const s of Reflect.ownKeys(t))e.add([t,s])}while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e})(t.constructor.prototype)){if("constructor"===s||!i(s))continue;const o=Reflect.getOwnPropertyDescriptor(e,s);o&&"function"==typeof o.value&&(t[s]=t[s].bind(t))}return t}s.d(e,{A:()=>lt});class o{constructor(){i(this)}attachEvents(){return this}onResize(){return this}onUpdate(){return this}destroy(){return this}}class a{constructor(){i(this),this.callbacks={},this.callbacks.base={}}on(t,e){return void 0===t||""===t?(console.warn("wrong names"),!1):void 0===e?(console.warn("wrong callback"),!1):(this.resolveNames(t).forEach(t=>{const s=this.resolveName(t);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(e)}),this)}off(t){return void 0===t||""===t?(console.warn("wrong name"),!1):(this.resolveNames(t).forEach(t=>{const e=this.resolveName(t);if("base"!==e.namespace&&""===e.value)delete this.callbacks[e.namespace];else if("base"===e.namespace)for(const t in this.callbacks)this.callbacks[t]instanceof Object&&this.callbacks[t][e.value]instanceof Array&&(delete this.callbacks[t][e.value],0===Object.keys(this.callbacks[t]).length&&delete this.callbacks[t]);else this.callbacks[e.namespace]instanceof Object&&this.callbacks[e.namespace][e.value]instanceof Array&&(delete this.callbacks[e.namespace][e.value],0===Object.keys(this.callbacks[e.namespace]).length&&delete this.callbacks[e.namespace])}),this)}trigger(t,e){if(void 0===t||""===t)return console.warn("wrong name"),!1;let s=null,i=null;const o=e instanceof Array?e:[];let a=this.resolveNames(t);if(a=this.resolveName(a[0]),"base"===a.namespace)for(const t in this.callbacks)this.callbacks[t]instanceof Object&&this.callbacks[t][a.value]instanceof Array&&this.callbacks[t][a.value].forEach(function(t){i=t.apply(this,o),void 0===s&&(s=i)});else if(this.callbacks[a.namespace]instanceof Object){if(""===a.value)return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach(function(t){i=t.apply(this,o),void 0===s&&(s=i)})}return s}resolveNames(t){let e=t;return e=e.replace(/[^a-zA-Z0-9 ,/.]/g,""),e=e.replace(/[,/]+/g," "),e=e.split(" "),e}resolveName(t){const e={},s=t.split(".");return e.original=t,e.value=s[0],e.namespace="base",s.length>1&&""!==s[1]&&(e.namespace=s[1]),e}}const n={uA:navigator.userAgent.toLowerCase(),get isLaptop(){return window.innerWidth>=1280},get isWindowsMobile(){return/windows phone|iemobile|wpdesktop/.test(this.uA)},get isMobileOpera(){return/opera mini/i.test(this.uA)},get isIOS(){return/iphone|ipad|ipod/i.test(this.uA)},get isIpad(){return!this.isWindowsMobile&&/ipad/i.test(this.uA)&&this.isIOS},get isLatestIpad(){return/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1},get isIphone(){return!this.isWindowsMobile&&/iphone/i.test(this.uA)&&this.isIOS},get isMobileAndroid(){return!this.isWindowsMobile&&/android.*mobile/.test(this.uA)},get isTabletAndroid(){return!this.isWindowsMobile&&!this.isMobileAndroid&&/android/i.test(this.uA)},get isAndroid(){return this.isMobileAndroid||this.isTabletAndroid},get isPhone(){return this.isMobileAndroid||this.isIOS&&!this.isIpad&&!this.isLatestIpad||this.isWindowsMobile},get isTablet(){return this.isTabletAndroid||this.isIpad||this.isLatestIpad},get isDevice(){return this.isPhone||this.isTablet||this.isLatestIpad},get isFirefox(){return this.uA.indexOf("firefox")>-1},get isSafari(){return!!this.uA.match(/version\/[\d\.]+.*safari/)},get isOpera(){return this.uA.indexOf("opr")>-1},get isIE11(){return!window.ActiveXObject&&"ActiveXObject"in window},get isIE(){return!!document.documentMode},get isEdge(){return this.uA.indexOf("edge")>-1},get isWindows(){return-1!==["Win32","Win64","Windows","WinCE"].indexOf(window.navigator.platform)},get isChrome(){return null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!this.isOpera&&!this.isEdge},get isMac(){return navigator.platform.toLowerCase().indexOf("mac")>-1},get isDesktop(){return!this.isPhone&&!this.isTablet&&!this.isLatestIpad},get isTouch(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},get sniff(){return{isWindowsMobile:this.isWindowsMobile,isMobileOpera:this.isMobileOpera,isIOS:this.isIOS,isIpad:this.isIpad,isIphone:this.isIphone,isMobileAndroid:this.isMobileAndroid,isTabletAndroid:this.isTabletAndroid,isAndroid:this.isAndroid,isFirefox:this.isFirefox,isSafari:this.isSafari,isOpera:this.isOpera,isIE11:this.isIE11,isIE:this.isIE,isEdge:this.isEdge,isChrome:this.isChrome,isMac:this.isMac,isPhone:this.isPhone,isTablet:this.isTablet,isDevice:this.isDevice,isDesktop:this.isDesktop,isWindows:this.isWindows,isTouch:this.isTouch,isLatestIpad:this.isLatestIpad}},update(){Object.assign(this,{uA:navigator.userAgent.toLowerCase()})}},r=document.documentElement,l=(document.body,{xs:450,phone:600,tablet:768,desktop:1024,laptop:1280,xl:1366,"2xl":1440,fhd:1920}),h=(t,e=!1)=>e?window.innerWidth<t:window.innerWidth>=t,c=(h(l.xs,!0),h(l.phone,!0),h(l.tablet),h(l.desktop),h(l.laptop),h(l.xl),h(l["2xl"]),h(l.widescreen),t=>{const e=t.getBoundingClientRect();return{bottom:e.bottom,left:e.left,height:e.height,right:e.right,top:e.top,width:e.width,x:e.x,y:e.y}}),d=".CS",u={namespace:d,ready:`ready${d}`,scrolling:`scrolling${d}`,update:`update${d}`,destroy:`destroy${d}`,focus:`focus${d}`,stop:`stop${d}`,play:`play${d}`,call:`call${d}`,scrollTo:`scrollTo${d}`,subscribe:`subscribe${d}`,unsubscribe:`unsubscribe${d}`},p="PAGES.FETCHED",g="NAV.ACTIVE",m="NAV.INNACTIVE";var v=s("./node_modules/lodash.debounce/index.js"),f=s.n(v);class w extends a{constructor(){super(),i(this),this.calculate(),this.debouncedResizeListener=f()(this.onResize,50),this.attachEvents()}calculate(){this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.round(Math.min(window.devicePixelRatio,2)),this.fontSize=+getComputedStyle(r).fontSize.replace("px","")}rem(t){return t*this.fontSize}onResize(){this.calculate(),this.trigger("resize")}attachEvents(){window.addEventListener("resize",this.debouncedResizeListener),window.addEventListener("orientationchange",this.onOrientationChange)}onOrientationChange(){r.classList.add("resize-active");const t=setTimeout(()=>{r.classList.remove("resize-active"),clearTimeout(t)},300)}destroy(){window.removeEventListener("resize",this.debouncedResizeListener),window.removeEventListener("orientationchange",this.onOrientationChange)}}var y=s("./node_modules/gsap/index.js");y.Ay.ticker.lagSmoothing(0);class b extends a{constructor(){super(),i(this),this.previous=Date.now(),this.current=this.previous,this.elapsed=0,this.delta=16,this.tickValue=0,this.start()}start(){y.Ay.ticker.add(this.tick)}tick(t){const e=Date.now();this.delta=e-this.current,this.current=t,this.elapsed=this.current-this.previous,this.trigger("tick",[1e3*t])}stop(){y.Ay.ticker.remove(this.tick)}}class S extends o{constructor(){super(),this.app=new lt,this.animations=[],this.ctx=this.app.customScroll.settings.wrapper||document,this.animationsLibrary=[{selector:'[data-animation="logo-reveal"]',Instance:k},{selector:'[data-animation="logo-transform"]',Instance:x}],this.init()}start(){for(const t of this.animations)t.setup&&t.setup()}init(t=this.ctx){const e=this.animationsLibrary.filter(t=>{const{startingFrom:e=0}=t;return h(e)});for(const s of e){const{selector:e,Instance:i}=s;[...t.querySelectorAll(e)].forEach(t=>{const e=new i(t,{scroller:this.ctx});this.animations.push(e)})}}onMouseMove(t){for(const e of this.animations)e.onMouseMove&&e.onMouseMove(t)}onResize(){for(const t of this.animations)t.onResize&&t.onResize()}update(t){for(const e of this.animations)e.update&&e.update(t)}destroy(){for(const t of this.animations)t.destroy&&t.destroy();this.animations=[]}}class A extends o{constructor(t,e){if(super(),this.app=new lt,this.sizes=this.app.sizes,this.customScroll=this.app.customScroll,this.holder=t,this.settings={trigger:this.hasAttribute("data-trigger")?this.getAttribute("data-trigger"):this.holder,scrub:this.scrubSetting,duration:+this.getAttribute("data-duration")||1.3,interval:+this.getAttribute("data-stagger-interval")||.05,staggerDirection:this.getAttribute("data-stagger-direction")||"start",delay:+this.getAttribute("data-delay")||0,ease:this.getAttribute("data-ease")||"power4.out",start:this.getAttribute("data-start")||"top bottom",end:this.getAttribute("data-end")||"bottom top",toggleActions:this.getAttribute("data-toggle-actions")||"play none play none",from:this.getAttribute("data-from")||0,to:this.getAttribute("data-to")||1,id:this.getAttribute("data-markers")||void 0,repeat:this.hasAttribute("data-repeat"),markers:this.hasAttribute("data-markers"),...e},this.settings.start.includes("rem")&&(this.settings.start=this.calculateRem(this.settings.start)),this.settings.end.includes("rem")&&(this.settings.end=this.calculateRem(this.settings.end)),this.settings.start.includes("vh")&&(this.settings.start=this.calculateVh(this.settings.start)),this.settings.end.includes("vh")&&(this.settings.end=this.calculateVh(this.settings.end)),this.settings.end.includes("full-height")){const{height:t}=this.holder.getBoundingClientRect();this.settings.end=`+=${t}px`}}setup(){this.attachEvents(),this.setupTimeline(),this.addTweens()}hasAttribute(t,e=this.holder){return e.hasAttribute(t)}getAttribute(t,e=this.holder){return e.getAttribute(t)}setupTimeline(){this.animation=y.Ay.timeline({paused:!0,delay:this.settings.delay,ease:this.settings.ease,onComplete:this.onComplete,scrollTrigger:{scroller:this.settings.scroller||document,markers:this.settings.markers,id:this.settings.id,trigger:this.settings.trigger,once:!this.settings.repeat,start:this.settings.start,end:this.settings.end,scrub:this.settings.scrub,onEnterBack:this.onEnterBack,onEnter:this.onEnter,onLeave:this.onLeave,onLeaveBack:this.onLeaveBack,onUpdate:this.onUpdate,toggleActions:this.settings.toggleActions}})}calculateRem(t){const e=parseFloat(t.match(/\d+rem/)),s=Math.round(e*parseFloat(getComputedStyle(document.documentElement).fontSize));return t.replace(e,s).replace("rem","px")||t}calculateVh(t){const e=parseFloat(t.match(/\d+vh/)),s=window.innerHeight;return t.replace(e,s).replace("vh","px")||t}get scrubSetting(){const t=this.hasAttribute("data-scrub"),e=+this.getAttribute("data-scrub");return!!t&&(!(0!==e&&!isNaN(e))||e)}addTweens(){return this}onComplete(){this.holder.classList.add("is-complete")}onEnter(){this.holder.classList.add("is-started")}onLeave(){this.settings.repeat&&(this.holder.classList.remove("is-started"),this.holder.classList.remove("is-complete"))}onLeaveBack(){return this}onEnterBack(){return this}onUpdate(){return this}destroy(){this.animation&&this.animation.kill(),this.animation=null}}class k extends A{constructor(t,e){super(t,e),this.items=[...this.holder.querySelectorAll("[data-stagger]")]}get Y(){return c(this.settings.trigger).height*this.settings.parallaxSpeed*.1}addTweens(){this.animation.fromTo(this.items,{yPercent:150},{yPercent:0,ease:this.settings.ease,duration:this.settings.duration,stagger:this.settings.interval})}}class x extends A{constructor(t,e){super(t,e),this.settings.repeat=!0,this.settings.scrub=1,this.logoDesktop=document.querySelector("[data-footer-logo-desktop]"),this.logoMobile=document.querySelector("[data-footer-logo-mobile]"),this.settings.end="bottom bottom+=5",this.logo={desktop:{widePath:this.logoDesktop.querySelector("[data-wide-path]"),firstLetterGroup:this.logoDesktop.querySelector("[data-first-letter]"),midLetterGroup:this.logoDesktop.querySelector("[data-mid-letter]"),lastLetterGroup:this.logoDesktop.querySelector("[data-last-letter]")},mobile:{widePath:this.logoMobile.querySelector("[data-wide-path]"),firstLetterGroup:this.logoMobile.querySelector("[data-first-letter]"),midLetterGroup:this.logoMobile.querySelector("[data-mid-letter]"),lastLetterGroup:this.logoMobile.querySelector("[data-last-letter]")}}}addDesktopAnimation(){const t=y.Ay.fromTo(this.logo.desktop.widePath,{scaleX:0},{scaleX:1,ease:this.settings.ease,duration:this.settings.duration}),e=y.Ay.fromTo(this.logo.desktop.midLetterGroup,{x:-590},{x:0,ease:this.settings.ease,duration:this.settings.duration}),s=y.Ay.fromTo(this.logo.desktop.lastLetterGroup,{x:-1179},{x:0,ease:this.settings.ease,duration:this.settings.duration});this.animation.add(t,0).add(e,"<").add(s,"<")}addMobileAnimation(){const t=y.Ay.fromTo(this.logo.mobile.widePath,{scaleX:0},{scaleX:1,ease:this.settings.ease,duration:this.settings.duration}),e=y.Ay.fromTo(this.logo.mobile.midLetterGroup,{x:-74},{x:0,ease:this.settings.ease,duration:this.settings.duration}),s=y.Ay.fromTo(this.logo.mobile.lastLetterGroup,{x:-148},{x:0,ease:this.settings.ease,duration:this.settings.duration});this.animation.add(t,0).add(e,"<").add(s,"<")}addTweens(){this.addDesktopAnimation(),this.addMobileAnimation()}onEnter(){this.app.drawing.iconMoveAnimation.play(0)}onLeaveBack(){this.app.drawing.iconMoveAnimation.reverse(0)}}var C=s("./node_modules/three/build/three.module.js");const L=new C.Tap;class E extends o{constructor(){super(),this.app=new lt,this.holder=document.querySelector(".pages-grid"),this.loader=L,this.canvas=document.createElement("canvas"),this.sizes=c(this.holder),this.cases=[...this.holder.querySelectorAll("[data-case]")],this.images=[...this.holder.querySelectorAll("img[data-particle-image]")],this.particleContainers=[...this.holder.querySelectorAll('[data-animation="particle-hover"]')],this.imagesInstances=[],this.activeTexture=null,this.targetPosition={x:0,y:0},this.currentPosition={x:0,y:0}}async init(){this.scene=new C.Z58,this.camera=new C.ubm(75,this.app.sizes.width/this.app.sizes.height,.01,1e3),this.camera.position.z=1,this.renderer=new C.JeP({canvas:this.canvas,alpha:!0}),this.canvas.classList.add("case-canvas"),this.renderer.setSize(this.app.sizes.width,this.app.sizes.height),this.renderer.setPixelRatio(this.app.sizes.pixelRatio),document.body.appendChild(this.canvas),this.textures=await this.loadTextures(this.images.map(t=>t.getAttribute("data-src"))),this.setup()}setup(){this.activeTexture=this.textures[0],this.addToScene(),this.attachEvents()}attachEvents(){this.holder.addEventListener("mousemove",this.onMouseMove),this.particleContainers.forEach(t=>{t.addEventListener("mouseleave",this.onMouseLeave),t.addEventListener("mouseenter",this.onMouseEnter)})}onMouseLeave(t){n.isTouch||(y.Ay.killTweensOf(this.material.uniforms.uAnimationProgress),y.Ay.fromTo(this.material.uniforms.uAnimationProgress,{value:1},{value:0,duration:.3,ease:"power3.out"}))}onMouseEnter(t){n.isTouch||(y.Ay.killTweensOf(this.material.uniforms.uAnimationProgress),y.Ay.fromTo(this.material.uniforms.uAnimationProgress,{value:0},{value:1,duration:.3,ease:"power3.out"}),this.animateBlendingIn())}onMouseMove(t){if(n.isTouch)return;const{target:e,clientX:s,clientY:i}=t,o=this.cases.indexOf(e),a=this.textures[o],r=y.Ay.utils.mapRange(0,this.app.sizes.height,.7,-.7,i),l=y.Ay.utils.mapRange(0,this.app.sizes.width,-.7,.7,s);this.targetPosition.x=l,this.targetPosition.y=r,a&&a!==this.activeTexture&&(this.material.uniforms.uBlendProgress.value=0,this.material.uniforms.uOldTexture.value=this.activeTexture,this.material.uniforms.uTexture.value=a,this.activeTexture=a,this.mesh.scale.set(this.meshSizes.scale.x,this.meshSizes.scale.y,1),this.animateBlendingIn())}animateBlendingIn(){y.Ay.killTweensOf(this.material.uniforms.uBlendProgress),y.Ay.to(this.material.uniforms.uBlendProgress,{value:1,duration:1.5,ease:"power3"})}async loadTexture(t){return new Promise((e,s)=>{this.loader.load(t,e,void 0,s)})}async loadTextures(t){const e=t.map(t=>this.loadTexture(t));return await Promise.all(e)}addToScene(){this.geometry=new C.bdM(1,1),this.uniforms={uTexture:new C.nc$(this.textures[0]),uOldTexture:new C.nc$(this.textures[2]),uTime:new C.nc$(0),uCursor:new C.nc$(new C.I9Y(1,1)),uScale:new C.nc$(new C.I9Y(1,1)),uAnimationProgress:new C.nc$(1),uBlendProgress:new C.nc$(0)},this.material=new C.BKk({blending:C.EZo,uniforms:this.uniforms,vertexShader:"\n        varying vec2 vUv;\n\n        void main() {\n          vUv = uv;\n\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        precision highp float;\n\n        uniform sampler2D uTexture;\n        uniform sampler2D uOldTexture;\n        varying vec2 vUv;\n        uniform vec2 uScale;\n        uniform float uTime;\n        uniform float uBlendProgress;\n        uniform float uAnimationProgress;\n        uniform vec2 uCursor;\n        uniform vec2 uCellsAmount;\n\n        vec4 grayscale(sampler2D imageTexture, vec2 uv) {\n            vec4 color = texture2D(imageTexture, uv);\n            float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114)); // Convert to grayscale using luminance formula\n            return vec4(gray, gray, gray, color.a); // Set the grayscale color with original alpha\n        }\n\n        void main() {\n          vec2 uv = (vUv - vec2(0.5)) / uScale + vec2(0.5);\n\n          vec4 grayscaleColor = grayscale(uTexture, uv);\n          vec4 textureColor = texture2D(uTexture, uv);\n          vec3 baseColor = vec3(0.235, 0.235, 0.235);\n          vec4 oldTextureColor = texture2D(uOldTexture, uv);\n\n          // Rotate the UV coordinates by 45 degrees to get diagonal pattern\n          float angle = 3.1415926535897932384626433832795 / -4.0;\n          mat2 rotation = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n          vec2 rotatedUV = rotation * (uv + uCursor * 0.05) * vec2(70., 70.) * uAnimationProgress;\n\n          // Calculate the position in the grid\n          vec2 gridUV = fract(rotatedUV) * uBlendProgress;\n\n          // Fixed size for the squares, ensuring they don't overlap\n          float maxSize = 0.7; // Maximum size to ensure no overlap\n\n          // Create a wavy effect by modulating size with a sine wave\n          float wave = cos(rotatedUV.y * 20.0 + uTime * 3.) * 0.05 + 0.75;\n\n          float size = mix(maxSize, 0.0, grayscaleColor.r) * wave; // Adjust the 0.05 value to change min size\n\n          // Create the halftone effect by setting the color based on distance from the center of the cell\n          float square = step(size, max(abs(gridUV.x - 0.5), abs(gridUV.y - 0.5)));\n\n          // Final color logic: use texture color when within radius, otherwise use base color\n          vec4 blendedColor = mix(oldTextureColor, textureColor, uBlendProgress);\n          float alpha = (1.0 - square);\n\n          // Set the final color\n          gl_FragColor = vec4(baseColor, alpha * uAnimationProgress) * blendedColor;\n        }\n      "}),this.mesh=new C.eaF(this.geometry,this.material),this.mesh.scale.set(this.meshSizes.scale.x,this.meshSizes.scale.y,1),this.scene.add(this.mesh)}get meshSizes(){const t=this.activeTexture.image.width/this.activeTexture.image.height,e=this.app.sizes.width/this.app.sizes.height,s=new C.I9Y(.6,.6);return s.y/=t,{scale:s,imageAspect:t,canvasAspect:e}}onResize(){this.sizes=c(this.holder),this.camera.aspect=this.app.sizes.width/this.app.sizes.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.app.sizes.width,this.app.sizes.height),this.renderer.setPixelRatio(this.app.sizes.pixelRatio),this.mesh.scale.set(this.meshSizes.scale.x,this.meshSizes.scale.y,1)}onUpdate(){this.material&&(this.currentPosition.x=y.Ay.utils.interpolate(this.currentPosition.x,this.targetPosition.x,.1),this.currentPosition.y=y.Ay.utils.interpolate(this.currentPosition.y,this.targetPosition.y,.1),this.mesh.position.x=this.currentPosition.x,this.mesh.position.y=this.currentPosition.y,this.material.uniforms.uTime.value+=.05,this.renderer.render(this.scene,this.camera))}destroy(){this.scene.traverse(t=>{if(t instanceof C.eaF){t.geometry.dispose();for(const e in t.material){const s=t.material[e];s&&"function"==typeof s.dispose&&s.dispose()}}}),this.holder.removeEventListener("mousemove",this.onMouseMove),this.particleContainers.forEach(t=>{t.addEventListener("mouseleave",this.onMouseLeave),t.addEventListener("mouseenter",this.onMouseEnter)}),this.renderer.dispose()}}class P extends o{constructor(t,e){super(),this.app=new lt,this.holder=t,this.container=e,this.win=window,this.translateX=0,this.translateY=0,this.direction="se",this.speed=1,this.updateConstraints()}onResize(){this.updateConstraints()}updateConstraints(){this.bounds=c(this.holder),this.containerBounds=c(this.container),this.xMin=0,this.yMin=0,this.xMax=this.containerBounds.width-this.bounds.width,this.yMax=this.containerBounds.height-this.bounds.height}update(){this.setDirection(),this.holder.style.transform=`translate3d(${this.translateX}px, ${this.translateY}px, 0)`}setDirection(){switch(this.direction){case"ne":this.translateX+=this.speed,this.translateY-=this.speed;break;case"nw":this.translateX-=this.speed,this.translateY-=this.speed;break;case"se":this.translateX+=this.speed,this.translateY+=this.speed;break;case"sw":this.translateX-=this.speed,this.translateY+=this.speed}this.setLimits()}setLimits(){this.translateY<=this.yMin&&(this.direction="nw"==this.direction?"sw":"se"),this.translateY>=this.yMax&&(this.direction="se"==this.direction?"ne":"nw"),this.translateX<=this.xMin&&(this.direction="nw"==this.direction?"ne":"se"),this.translateX>=this.xMax&&(this.direction="ne"==this.direction?"nw":"sw")}}class T extends o{constructor(t=document.querySelector('[data-component="screen-saver"]'),e){super(),this.holder=t,this.box=this.holder.querySelector("[data-marquee-outside]"),this.container=this.holder.querySelector("[data-container]"),this.animation=new P(this.box,this.container),this.settings={idleTime:3e5,...e},this.lastActivityTime=Date.now()}init(){this.checkForActivity()}checkForActivity(){const t=Date.now()-this.lastActivityTime;this.shown||(t>=this.settings.idleTime?this.show():requestAnimationFrame(this.checkForActivity))}resetTimer(){clearTimeout(this.idleTimer),this.lastActivityTime=Date.now(),this.idleTimer=setTimeout(this.show,this.settings.idleTime)}update(){this.shown&&this.animation.update()}onResize(){this.animation.onResize()}show(){this.holder.classList.remove("is-hidden"),document.addEventListener("mousemove",this.remove,{once:!0}),document.addEventListener("keypress",this.remove,{once:!0}),document.addEventListener("touchstart",this.remove,{once:!0}),document.addEventListener("click",this.remove,{once:!0}),this.shown=!0}remove(){this.holder.classList.add("is-hidden"),this.shown=!1,this.resetTimer()}}class z extends o{constructor(t){super(),this.holder=t,this.toggles=[...this.holder.querySelectorAll('input[type="radio"]')],this.obysForm=document.querySelector('[data-form="contacts-obys"]'),this.desForm=document.querySelector('[data-form="contacts-des"]'),this.toggleFormState(),this.attachEvents()}attachEvents(){this.toggleFormState();for(const t of this.toggles)t.addEventListener("change",this.onChange)}toggleFormState(){"obys"===this.toggles.find(t=>t.checked).value?(this.obysForm?.classList.remove("sr-only"),this.desForm?.classList.add("sr-only")):(this.desForm?.classList.remove("sr-only"),this.obysForm?.classList.add("sr-only"))}onChange=t=>{this.currentStateChecked=t.target.checked,this.toggleFormState()};destroy(){this.toggle.removeEventListener("change",this.onChange)}}class O extends o{constructor(t,e={}){super(),this.holder=t,this.app=new lt,this.settings={invalidClass:"is-invalid",successMessage:this.holder.getAttribute("data-message"),...e},this.bindToToggleState=this.holder.getAttribute("data-bind-to"),this.formName=this.holder.getAttribute("name"),this.formBody=this.holder.querySelector(".form__body"),this.submitButton=this.holder.querySelector('button[type="submit"]'),this.allFields=[...this.holder.querySelectorAll('input:not([type="hidden"])'),...this.holder.querySelectorAll("textarea")],this.messageHolder=this.holder.querySelector(".form__success-message"),this.holder.setAttribute("data-init",!0),this.attachEvents()}attachEvents(){this.holder.addEventListener("submit",this.onSubmit)}async onSubmit(t){t.preventDefault(),t.stopPropagation(),this.submitButton.disabled=!0,this.requestBody=new FormData(this.holder);try{const t=await fetch("/",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams(this.requestBody).toString()});return 200!==t.status?this.onError(t):this.onSuccess()}catch(t){return this.onError(t)}}onSuccess(){y.Ay.to(this.formBody,{opacity:0,duration:.5,pointerEvents:"none",onComplete:()=>{y.Ay.to(this.messageHolder,{opacity:1,duration:.5,display:"flex"});for(const t of this.allFields)t.value="";this.submitButton.disabled=!1}})}onError(t){console.log(t,"ERROR")}destroy(){this.holder.removeAttribute("data-init"),this.holder.removeEventListener("submit",this.onSubmit)}}class M extends o{constructor(){super(),this.components=[],this.componentsLibrary=[{selector:".double-side-block",Instance:D},{selector:'[data-form="contacts-obys"]',Instance:O},{selector:'[data-form="contacts-des"]',Instance:O},{selector:'[data-component="form-state-switch"]',Instance:z}],this.init()}init(){for(const t of this.componentsLibrary){const{selector:e,Instance:s}=t;[...document.querySelectorAll(e)].forEach(t=>{const e=new s(t);this.components.push(e)})}}update(t){for(const e of this.components)e?.onUpdate(t)}onResize(){for(const t of this.components)t?.onResize()}destroy(){this.components.forEach(t=>t.destroy()),this.components=[]}}class D extends o{constructor(t,e){super(),this.holder=t,this.settings={activeClass:"is-flipped",...e},this.init()}init(){this.opener=this.holder.querySelector("[data-open]"),this.close=this.holder.querySelector("[data-close]"),this.attachEvents()}attachEvents(){this.opener.addEventListener("click",this.flipCard),this.close.addEventListener("click",this.flipCard)}flipCard(){this.isActive?this.holder.classList.remove(this.settings.activeClass):this.holder.classList.add(this.settings.activeClass)}get isActive(){return this.holder.classList.contains(this.settings.activeClass)}}class R extends o{constructor(){super(),this.app=new lt,this.holder=document.querySelector('[data-component="drawing"]'),this.canvas=this.holder.querySelector("[data-canvas]"),this.toggleContainer=document.querySelector(".toggle-drawing-container"),this.controls={},this.settings={activeClass:"drawing--is-active",color:"#D25933"},this.state={isActive:!1,isDrawing:!1,isErasing:!1},this.controls.save=this.holder.querySelector('[data-canvas-control="save"]'),this.controls.draw=this.holder.querySelector('[data-canvas-control="draw"]'),this.controls.erase=this.holder.querySelector('[data-canvas-control="erase"]'),this.controls.clear=this.holder.querySelector('[data-canvas-control="clear"]'),this.controls.toggle=document.querySelector('[data-component="toggle-drawing"]'),this.ctx=this.canvas.getContext("2d"),this.offscreenCanvas=document.createElement("canvas"),this.offscreenContext=this.offscreenCanvas.getContext("2d"),this.onResize()}init(){this.iconMoveAnimation=this.createIconMoveAnimation()}createIconMoveAnimation(){const t=y.Ay.timeline({paused:!0});return t.fromTo(this.toggleContainer,{y:0},{y:()=>-(c(document.querySelector("footer")).height+20),duration:.7,ease:"power3.inOut"}),t}attachEvents(){this.canvas.addEventListener("mousemove",this.draw),this.canvas.addEventListener("touchmove",this.draw),this.controls.toggle.addEventListener("click",this.toggleState),this.controls.draw.addEventListener("click",this.onDrawButtonClick),this.controls.erase.addEventListener("click",this.onEraseButtonClick),this.controls.clear.addEventListener("click",this.clearCanvas),this.controls.save.addEventListener("click",this.saveCanvas)}toggleState(){this.isActive?this.deactivate():this.activate()}activate(){this.holder.classList.add("drawing"),this.state.isActive=!0,r.classList.add(this.settings.activeClass),this.app.pages.hidePages(),this.app.pages.casePage.activeCase&&this.app.pages.casePage.hideActiveCase(),this.app.navigation.isActive&&this.app.navigation.hideDesktop(),this.app.navigation.isActive&&this.app.navigation.hideMobile(),this.app.navigation.isActive||this.app.pages.stickyNav.hide()}deactivate(){this.holder.classList.remove("drawing"),this.state.isActive=!1,this.app.pages.showPages(0),this.app.pages.stickyNav.show(0),r.classList.remove(this.settings.activeClass),this.app.pages.casePage.activeCase&&this.app.pages.casePage.showActiveCase()}onDrawButtonClick(){this.holder.classList.remove("erasing"),this.holder.classList.add("drawing"),this.controls.draw.classList.add("is-active"),this.controls.erase.classList.remove("is-active"),this.state.isErasing=!1,this.state.isDrawing=!0}onEraseButtonClick(){this.holder.classList.add("erasing"),this.holder.classList.remove("drawing"),this.controls.erase.classList.add("is-active"),this.controls.draw.classList.remove("is-active"),this.state.isErasing=!0,this.state.isDrawing=!1}draw(t){if(!this.state.isActive)return;if(t.shiftKey)return;let e,s;t.touches?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY);const i=Math.floor(e/this.cellSize)*this.cellSize,o=Math.floor(s/this.cellSize)*this.cellSize;this.state.isErasing?this.ctx.clearRect(i,o,this.cellSize,this.cellSize):(this.ctx.fillStyle=this.settings.color,this.ctx.fillRect(i,o,this.cellSize,this.cellSize))}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}saveCanvas(){const t=document.createElement("a");t.download="drawing.png",t.href=this.canvas.toDataURL("image/png"),t.click()}onResize(){this.offscreenCanvas.width=this.canvas.width,this.offscreenCanvas.height=this.canvas.height,this.offscreenContext.drawImage(this.canvas,0,0),this.cellSize=this.calculateCellSize(),this.canvas.width=this.app.sizes.width,this.canvas.height=this.app.sizes.height,this.ctx.drawImage(this.offscreenCanvas,0,0)}calculateCellSize(){return window.innerWidth>=1024?14:7}get isActive(){return r.classList.contains(this.settings.activeClass)}}class I extends o{constructor(){super(),this.app=new lt,this.logoDesktop=document.querySelector("[data-header-logo-desktop]"),this.logoMobile=document.querySelector("[data-header-logo-mobile]"),this.logo={desktop:{widePath:this.logoDesktop.querySelector("[data-wide-path]"),firstLetterGroup:this.logoDesktop.querySelector("[data-first-letter]"),midLetterGroup:this.logoDesktop.querySelector("[data-mid-letter]"),lastLetterGroup:this.logoDesktop.querySelector("[data-last-letter]")},mobile:{widePath:this.logoMobile.querySelector("[data-wide-path]"),firstLetterGroup:this.logoMobile.querySelector("[data-first-letter]"),midLetterGroup:this.logoMobile.querySelector("[data-mid-letter]"),lastLetterGroup:this.logoMobile.querySelector("[data-last-letter]")}},this.logo.desktop.widePath&&y.Ay.set(this.logo.desktop.widePath,{scaleX:0,transformOrigin:"right"}),this.logo.mobile.widePath&&y.Ay.set(this.logo.mobile.widePath,{scaleX:0,transformOrigin:"right"}),this.logoDesktop&&y.Ay.set(this.logoDesktop,{opacity:1}),this.logoMobile&&y.Ay.set(this.logoMobile,{opacity:1}),this.animation=this.createDesktopAnimation(),this.animationDesktop=this.createMobileAnimation()}createMobileAnimation(){const t=y.Ay.timeline({delay:.3,paused:!0});if(!(this.logo.mobile.firstLetterGroup&&this.logo.mobile.midLetterGroup&&this.logo.mobile.lastLetterGroup&&this.logo.mobile.widePath))return console.warn("Mobile logo elements not found, skipping animation"),t;const e=y.Ay.fromTo([this.logo.mobile.firstLetterGroup,this.logo.mobile.midLetterGroup,this.logo.mobile.lastLetterGroup],{yPercent:-120},{yPercent:0,ease:"circ.out",stagger:.1,duration:.9}),s=y.Ay.to(this.logo.mobile.widePath,{scaleX:1,ease:"power3.inOut",duration:.5,transformOrigin:"right"}),i=y.Ay.to(this.logo.mobile.widePath,{scaleX:0,transformOrigin:"left",ease:"power3.out",duration:1.5}),o=y.Ay.to(this.logo.mobile.midLetterGroup,{x:-74,ease:"power3.out",duration:1.1}),a=y.Ay.to(this.logo.mobile.lastLetterGroup,{x:-148,ease:"power3.out",duration:1.1});return t.add(e).add(s).add(i).add(o,"<").add(a,"<"),t}createDesktopAnimation(){const t=y.Ay.timeline({delay:.3,paused:!0});if(!(this.logo.desktop.firstLetterGroup&&this.logo.desktop.midLetterGroup&&this.logo.desktop.lastLetterGroup&&this.logo.desktop.widePath))return console.warn("Desktop logo elements not found, skipping animation"),t;const e=y.Ay.fromTo([this.logo.desktop.firstLetterGroup,this.logo.desktop.midLetterGroup,this.logo.desktop.lastLetterGroup],{yPercent:-120},{yPercent:0,ease:"circ.out",stagger:.1,duration:.9}),s=y.Ay.to(this.logo.desktop.widePath,{scaleX:1,ease:"power3.inOut",duration:.5,transformOrigin:"right"}),i=y.Ay.to(this.logo.desktop.widePath,{scaleX:0,transformOrigin:"left",ease:"power3.out",duration:1.5}),o=y.Ay.to(this.logo.desktop.midLetterGroup,{x:-590,ease:"power3.out",duration:1.1}),a=y.Ay.to(this.logo.desktop.lastLetterGroup,{x:-1179,ease:"power3.out",duration:1.1});return t.add(e).add(s).add(i).add(o,"<").add(a,"<"),t}animate(){return new Promise((t,e)=>{try{this.animation?.play(),this.animationDesktop?.play(),y.Ay.delayedCall(this.animation.duration()-1.3,t)}catch(t){e(t)}})}destroy(){this.animation?.kill()}}function q(t,e,s){return Math.max(t,Math.min(e,s))}var N=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(t){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const s=q(0,this.currentTime/this.duration,1);e=s>=1;const i=e?1:this.easing(s);this.value=this.from+(this.to-this.from)*i}else this.lerp?(this.value=function(t,e,s,i){return function(t,e,s){return(1-s)*t+s*e}(t,e,1-Math.exp(-s*i))}(this.value,this.to,60*this.lerp,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:s,duration:i,easing:o,onStart:a,onUpdate:n}){this.from=this.value=t,this.to=e,this.lerp=s,this.duration=i,this.easing=o,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=n}},W=class{constructor(t,e,{autoResize:s=!0,debounce:i=250}={}){this.wrapper=t,this.content=e,s&&(this.debouncedResize=function(t,e){let s;return function(...i){let o=this;clearTimeout(s),s=setTimeout(()=>{s=void 0,t.apply(o,i)},e)}}(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},_=class{events={};emit(t,...e){let s=this.events[t]||[];for(let t=0,i=s.length;t<i;t++)s[t]?.(...e)}on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter(t=>e!==t)}}off(t,e){this.events[t]=this.events[t]?.filter(t=>e!==t)}destroy(){this.events={}}},j=100/6,H={passive:!1},U=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,H),this.element.addEventListener("touchstart",this.onTouchStart,H),this.element.addEventListener("touchmove",this.onTouchMove,H),this.element.addEventListener("touchend",this.onTouchEnd,H)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new _;on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,H),this.element.removeEventListener("touchstart",this.onTouchStart,H),this.element.removeEventListener("touchmove",this.onTouchMove,H),this.element.removeEventListener("touchend",this.onTouchEnd,H)}onTouchStart=t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})};onTouchMove=t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t,i=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(s-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:i,y:o},this.emitter.emit("scroll",{deltaX:i,deltaY:o,event:t})};onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})};onWheel=t=>{let{deltaX:e,deltaY:s,deltaMode:i}=t;e*=1===i?j:2===i?this.window.width:1,s*=1===i?j:2===i?this.window.height:1,e*=this.options.wheelMultiplier,s*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:s,event:t})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},B=t=>Math.min(1,1.001-Math.pow(2,-10*t)),F=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new N;emitter=new _;dimensions;virtualScroll;constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:s=t,smoothWheel:i=!0,syncTouch:o=!1,syncTouchLerp:a=.075,touchInertiaExponent:n=1.7,duration:r,easing:l,lerp:h=.1,infinite:c=!1,orientation:d="vertical",gestureOrientation:u=("horizontal"===d?"both":"vertical"),touchMultiplier:p=1,wheelMultiplier:g=1,autoResize:m=!0,prevent:v,virtualScroll:f,overscroll:w=!0,autoRaf:y=!1,anchors:b=!1,autoToggle:S=!1,allowNestedScroll:A=!1,__experimental__naiveDimensions:k=!1}={}){window.lenisVersion="1.3.13",t&&t!==document.documentElement||(t=window),"number"==typeof r&&"function"!=typeof l?l=B:"function"==typeof l&&"number"!=typeof r&&(r=1),this.options={wrapper:t,content:e,eventsTarget:s,smoothWheel:i,syncTouch:o,syncTouchLerp:a,touchInertiaExponent:n,duration:r,easing:l,lerp:h,infinite:c,gestureOrientation:u,orientation:d,touchMultiplier:p,wheelMultiplier:g,autoResize:m,prevent:v,virtualScroll:f,overscroll:w,autoRaf:y,anchors:b,autoToggle:S,allowNestedScroll:A,__experimental__naiveDimensions:k},this.dimensions=new W(t,e,{autoResize:m}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new U(s,{touchMultiplier:p,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}onScrollEnd=t=>{t instanceof CustomEvent||"smooth"!==this.isScrolling&&!1!==this.isScrolling||t.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=t=>{if(t.propertyName.includes("overflow")){const t=this.isHorizontal?"overflow-x":"overflow-y",e=getComputedStyle(this.rootElement)[t];["hidden","clip"].includes(e)?this.internalStop():this.internalStart()}};setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}onClick=t=>{const e=t.composedPath().find(t=>t instanceof HTMLAnchorElement&&t.getAttribute("href")?.includes("#"));if(e){const t=e.getAttribute("href");if(t){const e="object"==typeof this.options.anchors&&this.options.anchors?this.options.anchors:void 0,s=`#${t.split("#")[1]}`;this.scrollTo(s,e)}}};onPointerDown=t=>{1===t.button&&this.reset()};onVirtualScroll=t=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(t))return;const{deltaX:e,deltaY:s,event:i}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:s,event:i}),i.ctrlKey)return;if(i.lenisStopPropagation)return;const o=i.type.includes("touch"),a=i.type.includes("wheel");this.isTouching="touchstart"===i.type||"touchmove"===i.type;const n=0===e&&0===s;if(this.options.syncTouch&&o&&"touchstart"===i.type&&n&&!this.isStopped&&!this.isLocked)return void this.reset();const r="vertical"===this.options.gestureOrientation&&0===s||"horizontal"===this.options.gestureOrientation&&0===e;if(n||r)return;let l=i.composedPath();l=l.slice(0,l.indexOf(this.rootElement));const h=this.options.prevent;if(l.find(t=>t instanceof HTMLElement&&("function"==typeof h&&h?.(t)||t.hasAttribute?.("data-lenis-prevent")||o&&t.hasAttribute?.("data-lenis-prevent-touch")||a&&t.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(t,{deltaX:e,deltaY:s}))))return;if(this.isStopped||this.isLocked)return void(i.cancelable&&i.preventDefault());if(!(this.options.syncTouch&&o||this.options.smoothWheel&&a))return this.isScrolling="native",this.animate.stop(),void(i.lenisStopPropagation=!0);let c=s;"both"===this.options.gestureOrientation?c=Math.abs(s)>Math.abs(e)?s:e:"horizontal"===this.options.gestureOrientation&&(c=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||0===this.animatedScroll&&s>0||this.animatedScroll===this.limit&&s<0))&&(i.lenisStopPropagation=!0),i.cancelable&&i.preventDefault();const d=o&&this.options.syncTouch,u=o&&"touchend"===i.type;u&&(c=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+c,{programmatic:!1,...d?{lerp:u?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent)this._preventNextNativeScrollEvent=!1;else if(!1===this.isScrolling||"native"===this.isScrolling){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.options.autoToggle?this.rootElement.style.removeProperty("overflow"):this.internalStart())}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){this.isStopped||(this.options.autoToggle?this.rootElement.style.setProperty("overflow","clip"):this.internalStop())}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(.001*e),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(t,{offset:e=0,immediate:s=!1,lock:i=!1,duration:o=this.options.duration,easing:a=this.options.easing,lerp:n=this.options.lerp,onStart:r,onComplete:l,force:h=!1,programmatic:c=!0,userData:d}={}){if(!this.isStopped&&!this.isLocked||h){if("string"==typeof t&&["top","left","start","#"].includes(t))t=0;else if("string"==typeof t&&["bottom","right","end"].includes(t))t=this.limit;else{let s;if("string"==typeof t?(s=document.querySelector(t),s||("#top"===t?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(s=t),s){if(this.options.wrapper!==window){const t=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?t.left:t.top}const i=s.getBoundingClientRect();t=(this.isHorizontal?i.left:i.top)+this.animatedScroll}}if("number"==typeof t){if(t+=e,t=Math.round(t),this.options.infinite){if(c){this.targetScroll=this.animatedScroll=this.scroll;const e=t-this.animatedScroll;e>this.limit/2?t-=this.limit:e<-this.limit/2&&(t+=this.limit)}}else t=q(0,t,this.limit);if(t===this.targetScroll)return r?.(this),void l?.(this);if(this.userData=d??{},s)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l?.(this),this.userData={},void requestAnimationFrame(()=>{this.dispatchScrollendEvent()});c||(this.targetScroll=t),"number"==typeof o&&"function"!=typeof a?a=B:"function"==typeof a&&"number"!=typeof o&&(o=1),this.animate.fromTo(this.animatedScroll,t,{duration:o,easing:a,lerp:n,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",r?.(this)},onUpdate:(t,e)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=t-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=t,this.setScroll(this.scroll),c&&(this.targetScroll=t),e||this.emit(),e&&(this.reset(),this.emit(),l?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:s}){const i=Date.now(),o=t._lenis??={};let a,n,r,l,h,c,d,u;const p=this.options.gestureOrientation;if(i-(o.time??0)>2e3){o.time=Date.now();const e=window.getComputedStyle(t);o.computedStyle=e;const s=e.overflowX,i=e.overflowY;if(a=["auto","overlay","scroll"].includes(s),n=["auto","overlay","scroll"].includes(i),o.hasOverflowX=a,o.hasOverflowY=n,!a&&!n)return!1;if("vertical"===p&&!n)return!1;if("horizontal"===p&&!a)return!1;h=t.scrollWidth,c=t.scrollHeight,d=t.clientWidth,u=t.clientHeight,r=h>d,l=c>u,o.isScrollableX=r,o.isScrollableY=l,o.scrollWidth=h,o.scrollHeight=c,o.clientWidth=d,o.clientHeight=u}else r=o.isScrollableX,l=o.isScrollableY,a=o.hasOverflowX,n=o.hasOverflowY,h=o.scrollWidth,c=o.scrollHeight,d=o.clientWidth,u=o.clientHeight;if(!a&&!n||!r&&!l)return!1;if(!("vertical"!==p||n&&l))return!1;if(!("horizontal"!==p||a&&r))return!1;let g,m,v,f,w,y;if("horizontal"===p?g="x":"vertical"===p?g="y":(0!==e&&a&&r&&(g="x"),0!==s&&n&&l&&(g="y")),!g)return!1;if("x"===g)m=t.scrollLeft,v=h-d,f=e,w=a,y=r;else{if("y"!==g)return!1;m=t.scrollTop,v=c-u,f=s,w=n,y=l}return(f>0?m<v:m>0)&&w&&y}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?function(t,e){return(t%e+e)%e}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),"smooth"===this.isScrolling&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},X=s("./node_modules/gsap/ScrollTrigger.js");y.Ay.registerPlugin(X.A),X.A.pinType="transform",X.A.config({ignoreMobileResize:!0});class $ extends a{constructor(t){super(),this.app=new lt,this.settings={wrapper:document.querySelector("[data-scroll-wrapper]"),content:document.querySelector("[data-scroller]"),duration:1.125,smoothWheel:!0,scrollTreshold:5,...t}}get infinite(){return document.querySelector("[data-transitions-container]").hasAttribute("data-infinite")}init(){this.scroll=new F(this.settings),this.checkPageTop(),window.lenis=this,this.scroll.on("scroll",this.onScroll)}resetPosition(){window.scrollTo(0,0),this.scrollTo(0,{offset:0,immediate:!0})}checkPageTop(){this.pageTop=this.scroll.targetScroll<this.settings.scrollTreshold,r.setAttribute("data-top",this.pageTop)}onScroll(t){this.checkPageTop(),this.trigger(u.update,[t]),X.A.update()}scrollTo(t,e){this.scroll.scrollTo(t,{duration:1,offset:0,...e})}stop(){this.scroll?.stop()}start(){this.scroll?.start()}update(t){this.scroll?.isStopped||this.scroll?.raf(t)}refresh(){X.A.refresh()}onResize(){this.scroll?.resize(),X.A.refresh()}destroy(){this.scroll.destroy(),this.scroll.off("scroll")}}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)({}).hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Y.apply(null,arguments)}new WeakMap;const V=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),G=(t=null,e={})=>{t=t||V({hash:!0});const s=Y({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(s,"",t)};class K extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,K.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new K(e)}static fromUrl(t){return new K(t)}}Error;class Z extends o{constructor(t={}){super(),this.settings={activeClass:"is-active",...t}}get links(){return[...document.querySelectorAll("[data-header] [data-nav-link]"),...document.querySelectorAll("[data-header] [data-nav-link-desktop]")]}filterLinksOut(){const t=K.fromUrl(window.location);return this.links.filter(e=>{const{pathname:s}=K.fromUrl(e.href),i=t.pathname.split("/").filter(t=>t.length>1).some(t=>s.includes(t)),o=s===t.pathname;return i||o})}setActiveLinks(){const t=this.filterLinksOut();for(const t of this.links)t.classList.remove(this.settings.activeClass),t.parentNode.classList.remove(this.settings.activeClass);for(const e of t)e.classList.add(this.settings.activeClass),e.parentNode.classList.add(this.settings.activeClass)}}class Q extends a{constructor(t,e){super(),this.app=new lt,this.holder=t,this.settings={selector:"[data-header]",triggerEvent:"click",activeClass:"menu--opened",mobileActiveClass:"menu-mobile--opened",DOM:{desktopOpener:"[data-menu-opener]",mobileOpener:"[data-mobile-menu-opener]"},...e},this.desktopAnimationProperties=[{"/":{tablet:{x:"-21.7vw",y:"24.6rem",scale:.335},desktop:{x:"-22.5vw",y:"24.6rem",scale:.345},laptop:{x:"-23.2vw",y:"23.6rem",scale:.404}},"/books/":{tablet:{x:"8.2vw",y:"18.5rem",scale:.347},desktop:{x:"8.2vw",y:"18.4rem",scale:.355},laptop:{x:"8.2vw",y:"16.5rem",scale:.415}},"/credits/":{tablet:{x:"3vw",y:"22rem",scale:.475},desktop:{x:"4.3vw",y:"22rem",scale:.48},laptop:{x:"8.2vw",y:"21.5rem",scale:.487}},"/contacts/":{tablet:{x:"22.55vw",y:"3.2rem",scale:.47},desktop:{x:"23.15vw",y:"-6.1rem",scale:.655},laptop:{x:"7.25vw",y:"-21rem",scale:.947}}}],this.init()}init(){this.holder=document.querySelector(this.settings.selector),this.navLinks=[...this.holder.querySelectorAll("[data-mobile-menu] a")],this.navLinksDesktop=[...this.holder.querySelectorAll("[data-nav-link-desktop]")],this.desktopOpeners=[...this.holder.querySelectorAll(this.settings.DOM.desktopOpener)],this.mobileOpeners=[...this.holder.querySelectorAll(this.settings.DOM.mobileOpener)],this.mobilePageImages=[...this.holder.querySelectorAll("[data-mobile-page-image]")],this.mobileActivePageImage=this.holder.querySelector("[data-current-page-image]"),this.mobileActivePageLabel=this.holder.querySelector("[data-current-page-label]"),this.attachEvents()}attachEvents(){for(const t of this.desktopOpeners)t.addEventListener(this.settings.triggerEvent,this.onDesktopOpenerClick);for(const t of this.mobileOpeners)t.addEventListener(this.settings.triggerEvent,this.onMobileOpenerClick);for(const t of this.navLinks)t.addEventListener(this.settings.triggerEvent,this.onNavItemClick);for(const t of this.navLinksDesktop)t.addEventListener(this.settings.triggerEvent,this.onDesktopMenuItemClick);this.app.pages.on(p,this.fillMobileNavWithData),document.addEventListener("keydown",this.onEscapeKeyPress)}onEscapeKeyPress(t){"Escape"===t.key&&this.isActive&&(this.onDesktopOpenerClick(t),this.onMobileOpenerClick(t))}onDesktopMenuItemClick(t){t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("href"),s=this.app.pages.getPageOrder(e),i=this.app.pages.pagesOrder[e];s.currentOrder!==i&&s&&(this.app.navigation.mobileActivePageImage.src=this.app.pages.thumbs[e],this.app.pages.rearrangePages(i),this.app.pages.casePage.activeCase&&this.app.pages.casePage.closeActiveCase())}fillMobileNavWithData(){this.pages=[...document.querySelectorAll("[data-page-content]")];for(const t of this.mobilePageImages){const e=t.getAttribute("data-mobile-page-image"),s=this.app.pages.thumbs[e];if(!s)return;t.src=s}if(!this.mobileActivePageImage)return;const t=V(),e=this.app.pages.casePage.isCasePage(t)?"/books/":t,s=this.app.pages.thumbs[e];this.mobileActivePageImage.src=s,this.mobileActivePageLabel.innerText=this.app.pages.pageNaming[e]}onMobileOpenerClick(t){this.isMobileActive?this.hideMobile():this.showMobile()}onNavItemClick(t){t.preventDefault(),t.stopPropagation();const{url:e}=K.fromElement(t.target),s=this.app.pages.pagesOrder[e],i=this.app.pages.thumbs[e];return G(e),this.app.pages.shufflePageQuick(s),this.app.linkManager.setActiveLinks(),this.app.pages.stickyNav.setOrder(s),this.mobileActivePageImage.src=i,this.mobileActivePageLabel.innerText=this.app.pages.pageNaming[e],this.hideMobile(),this.app.customScroll.scrollTo(0),{url:e,nextPageLayout:s}}hideMobile(){this.app.customScroll.start(),r.classList.remove(this.settings.mobileActiveClass),this.trigger(m)}showMobile(){this.app.customScroll.stop(),r.classList.add(this.settings.mobileActiveClass),this.trigger(g)}onDesktopOpenerClick(t){if(t&&t.preventDefault(),this.isActive){this.hideDesktop(),this.trigger(m),r.classList.remove(this.settings.activeClass);for(const t of this.pages)t.removeEventListener("click",this.onPageClick)}else{this.showDesktop(),this.trigger(g),r.classList.add(this.settings.activeClass);for(const t of this.pages)t.addEventListener("click",this.onPageClick)}}showDesktop(){this.app.pages.casePage.hideActiveCase(),this.desktopAnimationProperties.forEach(t=>{Object.entries(t).forEach(([t,e])=>{const s=e[this.desktopAnimationSettings];y.Ay.to(`[data-page-content="${t}"]`,{...s,duration:.7,ease:"power3.inOut"})})});const t=y.Ay.to("[data-sticky-nav]",{xPercent:-100,duration:.7,ease:"power3.inOut"});return this.app.customScroll.stop(),t}hideDesktop(t=!0){t&&this.app.pages.casePage.showActiveCase();const e=y.Ay.to("[data-sticky-nav]",{xPercent:0,duration:.8,ease:"power3.inOut"});return this.desktopAnimationProperties.forEach(t=>{Object.entries(t).forEach(([t])=>{y.Ay.to(`[data-page-content="${t}"]`,{x:0,y:0,scale:1,duration:.8,ease:"power3.inOut"})})}),r.classList.remove(this.settings.activeClass),y.Ay.delayedCall(.8,()=>{this.app.customScroll.start()}),e}onPageClick(t){const e=t.target.getAttribute("data-page-content");if(!e)throw new Error("[data-page-content] attribute is missing");const s=this.app.pages.pagesOrder[e];this.app.pages.stickyNav.setOrder(s),this.app.pages.shufflePageQuick(s),this.app.pages.casePage.closeActiveCase(),this.hideDesktop(!1)}destroy(){for(const t of this.desktopOpeners)t.removeEventListener(this.settings.triggerEvent,this.onDesktopOpenerClick);for(const t of this.mobileOpeners)t.removeEventListener(this.settings.triggerEvent,this.onMobileOpenerClick);for(const t of this.navLinks)t.removeEventListener(this.settings.triggerEvent,this.onNavItemClick);for(const t of this.navLinksDesktop)t.removeEventListener(this.settings.triggerEvent,this.onDesktopMenuItemClick);this.app.pages.off(p),this.isActive&&this.hideDesktop(),this.isMobileActive&&this.hideMobile(),document.removeEventListener("keydown",this.onEscapeKeyPress)}onResize(){this.isActive&&this.desktopAnimationProperties.forEach(t=>{Object.entries(t).forEach(([t,e])=>{const s=e[this.desktopAnimationSettings];y.Ay.set(`[data-page-content="${t}"]`,s)})})}get desktopAnimationSettings(){return h(l.laptop)?"laptop":h(l.desktop)?"desktop":"tablet"}get isActive(){return r.classList.contains(this.settings.activeClass)}get isMobileActive(){return r.classList.contains(this.settings.mobileActiveClass)}}class J extends o{constructor(t,{loader:e,sizes:s}){super(),this.holder=t,this.loader=e,this.crossOrigin=null,this.sizes=s,this.currentCursorPosition=new C.I9Y(0,0),this.targetCursorPosition=new C.I9Y(0,0),this.imageBounds=c(this.holder)}get imageSrc(){return this.holder.getAttribute("data-src")}async load(){return this.texture=await this.loader.loadAsync(this.imageSrc),this.objectData=this.onTextureLoaded(),this.attachEvents(),this.show(),this.objectData}attachEvents(){this.holder.addEventListener("mousemove",this.onMouseMove)}show(){const{material:t}=this.objectData;y.Ay.fromTo(t.uniforms.uAnimationProgress,{value:0},{ease:"power3",value:1,duration:1.2})}addToScene(t){t&&t.add(this.objectData.mesh)}onMouseMove(t){const{width:e,height:s}=this.imageBounds,i=y.Ay.utils.mapRange(0,e,0,1,t.layerX),o=1-y.Ay.utils.mapRange(0,s,0,1,t.layerY);this.targetCursorPosition.set(i,o)}onResize(t){if(this.imageBounds=c(this.holder),this.sizes=t,!this.objectData)return;const{mesh:e,material:s}=this.objectData,{W:i,H:o,Y:a,X:n,shaderScale:r}=this.calculateDimensions();e.position.x=n,e.position.y=a,e.position.z=0,e.scale.set(i,o,1),s.uniforms.uScale.value=r,e.updateMatrix()}calculateDimensions(){const{width:t,height:e}=this.imageBounds,s=this.imageBounds.top-this.sizes.top,i=this.imageBounds.left-this.sizes.left,o=t/e,a=this.texture.image.width/this.texture.image.height,n=new C.I9Y(1,1),r=2*t/this.sizes.width,l=2*e/this.sizes.height,h=y.Ay.utils.mapRange(0,this.sizes.height,1,-1,s+e/2),c=y.Ay.utils.mapRange(0,this.sizes.width,-1,1,i+t/2),d=new C.I9Y(Math.max(60,t/9),Math.max(60,e/9));return a>o?n.set(a/o,1):n.set(1,a/o),{W:r,H:l,Y:h,X:c,shaderScale:n,cellsAmount:d}}onTextureLoaded(){const{W:t,H:e,X:s,Y:i,shaderScale:o,cellsAmount:a}=this.calculateDimensions(),n=new C.bdM(1,1),r=new C.BKk({vertexShader:"\n        varying vec2 vUv;\n\n        void main() {\n          vUv = uv;\n\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        precision highp float;\n\n        uniform sampler2D uTexture;\n        varying vec2 vUv;\n        uniform vec2 uScale;\n        uniform float uTime;\n        uniform float uAnimationProgress;\n        uniform vec2 uCursor;\n        uniform vec2 uCellsAmount;\n\n        vec4 grayscale(sampler2D imageTexture, vec2 uv) {\n            vec4 color = texture2D(imageTexture, uv);\n            float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114)); // Convert to grayscale using luminance formula\n            return vec4(gray, gray, gray, color.a); // Set the grayscale color with original alpha\n        }\n\n        void main() {\n          vec2 uv = (vUv - vec2(0.5)) / uScale + vec2(0.5);\n\n          vec4 grayscaleColor = grayscale(uTexture, uv);\n          vec4 textureColor = texture2D(uTexture, uv);\n          vec3 baseColor = vec3(0.235, 0.235, 0.235);\n\n          // Rotate the UV coordinates by 45 degrees to get diagonal pattern\n          float angle = 3.1415926535897932384626433832795 / -3.0;\n          mat2 rotation = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n          vec2 rotatedUV = rotation * (uv + uCursor * 0.025) * vec2(60., 60.);\n\n          // Calculate the position in the grid\n          vec2 gridUV = fract(rotatedUV);\n\n          // Fixed size for the squares, ensuring they don't overlap\n          float maxSize = 0.7; // Maximum size to ensure no overlap\n\n          // Create a wavy effect by modulating size with a sine wave\n          float wave = sin(rotatedUV.y * 20.0 + uTime * 3.) * 0.05 + 0.75;\n\n          float size = mix(maxSize, 0.0, grayscaleColor.r) * wave; // Adjust the 0.05 value to change min size\n\n          // Create the halftone effect by setting the color based on distance from the center of the cell\n          float square = step(size, max(abs(gridUV.x - 0.5), abs(gridUV.y - 0.5)));\n\n          // Final color logic: use texture color when within radius, otherwise use base color\n          float alpha = 1.0 - square;\n\n          // Set the final color\n          gl_FragColor = vec4(baseColor, alpha * uAnimationProgress);\n        }\n      ",blending:C.EZo,uniforms:{uCellsAmount:new C.nc$(a),uAnimationProgress:new C.nc$(0),uCursor:new C.nc$(this.currentCursorPosition),uTime:new C.nc$(0),uScale:new C.nc$(o),uTexture:new C.nc$(this.texture)}}),l=new C.eaF(n,r);return l.position.x=s,l.position.y=i,l.position.z=0,l.scale.set(t,e,1),this.holder.classList.add("opacity-0"),{mesh:l,geometry:n,material:r}}update(t){const{material:e}=this.objectData;this.currentCursorPosition.x=y.Ay.utils.interpolate(this.currentCursorPosition.x,this.targetCursorPosition.x,.1),this.currentCursorPosition.y=y.Ay.utils.interpolate(this.currentCursorPosition.y,this.targetCursorPosition.y,.1),e.uniforms.uTime.value=t,e.uniforms.uCursor.value=this.currentCursorPosition}}const tt=new C.Tap;class et extends a{constructor(t,e){super(),this.app=new lt,this.holder=t,this.settings={...e},this.halftoneImages=[...this.holder.querySelectorAll("img[data-gl]")],this.halftoneImagesInstances=[]}async init(){const t=document.createElement("canvas");this.sizes=c(this.holder),this.holder.appendChild(t),this.renderer=new C.JeP({alpha:!0,canvas:t});const e=n.isAndroid?2e3:this.sizes.height;this.renderer.setSize(this.sizes.width,e),this.renderer.setPixelRatio(this.app.sizes.pixelRatio),this.scene=new C.Z58,this.camera=new C.qUd(-1,1,1,-1,.1,1e3),this.camera.position.z=1,await this.createHalftoneDefaultImages()}get aspect(){return this.renderer.width/this.sizes.height}createHalftoneDefaultImages(){return Promise.all(this.halftoneImages.map(t=>new Promise(async e=>{const s=new J(t,{loader:tt,sizes:this.sizes}),i=await s.load();s.addToScene(this.scene),this.halftoneImagesInstances.push(s),e(i)})))}onResize(){this.sizes=c(this.holder);for(const t of this.halftoneImagesInstances)t.onResize(this.sizes);this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(this.app.sizes.pixelRatio)}onUpdate(t){for(const e of this.halftoneImagesInstances)e.update(.001*t);this.renderer.render(this.scene,this.camera)}destroy(){this.scene.traverse(t=>{if(t instanceof C.eaF){t.geometry.dispose();for(const e in t.material){const s=t.material[e];s&&"function"==typeof s.dispose&&s.dispose()}}}),this.renderer.dispose()}}class st extends o{constructor(){super(),this.app=new lt,this.activeCase=null,this.caseActiveClass="case--is-active"}init(){this.caseOpeners=[...document.querySelectorAll("[data-case]")]}async createCasePage(t){const{currentPage:e}=t;if(this.activeCase)return;let s="";const i=document.querySelector(`[data-page-content="${e}"]`),o=document.createElement("div");if(o.setAttribute("class","col-start-1 md:col-span-9 md:col-start-3 laptop:col-span-8 laptop:col-start-3 laptop:left-180 row-start-1 case-page"),o.setAttribute("data-page",e),i)s=i;else try{const t=await fetch(e);if(!t.ok)throw new Error(`Fetch failed: ${t.status}`);const i=await t.text(),o=document.createElement("div");if(o.innerHTML=i,s=o.querySelector("[data-page-content]"),!s)throw new Error("Page content not found in fetched HTML")}catch(t){return void console.error("Error fetching page:",t)}this.app.pages.pagesGrid.appendChild(o),o.style.zIndex=t.currentOrder.length+2,o.classList.add("opacity-0"),o.insertAdjacentElement("afterbegin",s);const a=o.querySelector(".inset-wrapper"),n=s.querySelector("[data-case-close]");n.addEventListener("click",this.onCaseCloseClick),document.addEventListener("click",this.onCaseOutsideCloseClick);const r=new et(a);await r.init(),this.app.pages.createdCanvases.push(r),this.activeCase={webglCanvas:r,url:e,close:n,container:o,insetWrapper:a}}createScrollableAnimation(){const t=this.app.pages.createSingleScrollableAnimation(this.activeCase.container);this.activeCase.scrollAnimation=t}async openCase(t){t.preventDefault(),t.stopPropagation();const e=this.app.pages.getPageOrder(),s=t.target.getAttribute("data-case")||t.target.closest("[data-case]").getAttribute("data-case");this.app.showLoadingScreen(),this.app.customScroll.scrollTo(0);const i=new Promise(t=>y.Ay.delayedCall(1.05,t));try{await Promise.all([i,this.createCasePage({currentPage:s,currentOrder:e.currentOrder})]),this.createScrollableAnimation(),this.showActiveCase(),G(s),this.app.updateAnalytics()}catch(t){return console.error("Error opening case:",t),void this.app.removeLoadingScreen()}this.app.removeLoadingScreen()}showActiveCase(t=this.app.sizes.height+this.app.customScroll.scroll.actualScroll){if(!this.activeCase)return;const{insetWrapper:e,container:s,close:i,url:o}=this.activeCase;s.classList.remove("opacity-0");const a=V();return this.activeCase.prevUrl=a!==o?a:i.getAttribute("data-case-close"),r.classList.add(this.caseActiveClass),y.Ay.fromTo(e,{rotate:4,y:t},{rotate:0,y:0,ease:"power2.inOut",duration:1})}closeActiveCase(t=!0){this.activeCase&&this.hideActiveCase().eventCallback("onComplete",()=>{this.removeActiveCase(t)})}hideActiveCase(){if(!this.activeCase)return;const{insetWrapper:t}=this.activeCase;return y.Ay.to(t,{rotate:4,y:this.app.sizes.height+this.app.customScroll.scroll.actualScroll,ease:"power2.inOut",duration:.8,onComplete:()=>{this.app.customScroll.onResize()}})}removeActiveCase(t=!0){if(!this.activeCase)return;const{container:e,scrollAnimation:s,webglCanvas:i,close:o}=this.activeCase,a=this.activeCase.prevUrl;e.remove(),s.kill(),t&&G(a);const n=this.app.pages.pageContainers.find(t=>t.getAttribute("data-page")===a);n&&n.classList.add("page-is-active"),o.removeEventListener("click",this.onCaseCloseClick),document.removeEventListener("click",this.onCaseOutsideCloseClick),this.activeCase=null,this.app.pages.createdCanvases=this.app.pages.createdCanvases.filter(t=>t!==i),i.destroy(),r.classList.remove(this.caseActiveClass)}onCaseCloseClick(){this.closeActiveCase()}onCaseOutsideCloseClick(t){if(!this.activeCase)return;const{container:e}=this.activeCase;e.contains(t.target)||this.closeActiveCase()}isCasePage(t=V()){return/^\/books\/([^\/]+)\/?$/.test(t)}attachEvents(){for(const t of this.caseOpeners)t.addEventListener("click",this.openCase);document.addEventListener("keydown",this.onEscapeKeyPress)}onEscapeKeyPress(t){"Escape"===t.key&&this.activeCase&&this.closeActiveCase()}destroy(){for(const t of this.caseOpeners)t.removeEventListener("click",this.openCase);document.removeEventListener("keydown",this.onEscapeKeyPress)}}var it=s("./node_modules/gsap/Draggable.js"),ot=s("./node_modules/gsap/InertiaPlugin.js");y.Ay.registerPlugin(it.s,ot.Ay);class at extends a{constructor(t,e){super(),this.app=new lt,this.holder=t,this.settings={DOM:{page:"[data-draggable-page]"},events:{END:"DRAG.END"},...e},this.draggableElements=[],this.sortables=[]}init(){this.sortables=this.draggableElements.sort((t,e)=>{const s=this.app.pages.pageOrder.currentOrder.indexOf(t.getAttribute("data-draggable-page")),i=this.app.pages.pageOrder.currentOrder.indexOf(e.getAttribute("data-draggable-page"));return-1===s&&-1===i?0:-1===s?1:-1===i?-1:s-i}).map((t,e)=>this.createSortable(t,e)),this.setOrder(this.app.pages.pageOrder.currentOrder),this.total=this.sortables.length,y.Ay.set(this.holder,{height:this.totalHeight})}get totalHeight(){return[...this.draggableElements].map(t=>t.getBoundingClientRect().height).reduce((t,e)=>t+e)}calculateOffsets(t){const e=[...t].map(t=>t.getBoundingClientRect().height);return e.reduce((t,s,i)=>(i?t.push(t[i-1]+e[i-1]):t.push(0),t),[])}changeIndex(t,e){if(this.arrayMove(this.sortables,t.index,e),e===this.total-1)this.holder.appendChild(t.element);else{const s=t.index>e?e:e+1;this.holder.insertBefore(t.element,this.holder.children[s])}const s=this.calculateOffsets(this.holder.querySelectorAll(this.settings.DOM.page));this.sortables.forEach((t,e)=>t.setIndex(e,s))}get previewsOrder(){return[...this.holder.querySelectorAll(this.settings.DOM.page)].map(t=>t.getAttribute("data-draggable-page"))}setOrder(t){if(t?.length)for(const e of this.sortables){const s=t.indexOf(e.id);this.changeIndex(e,s);const i=this.calculateOffsets(this.holder.querySelectorAll(this.settings.DOM.page));e.setIndex(s,i)}}createSortable(t,e){const s=this.calculateOffsets(this.draggableElements),i=y.Ay.to(t.querySelector("img"),{duration:.3,force3D:!0,scale:1.1,paused:!0}),o=()=>{y.Ay.to(t,{duration:.3,y:r.itemHeight})},a=new it.s(t,{onDragStart:()=>{i.play(),t.classList.add("is-dragging")},onRelease:()=>{i.reverse(),t.classList.remove("is-dragging"),o()},onDrag:f()(()=>{const t=y.Ay.utils.clamp(0,this.total-1,Math.ceil(a.y/r.itemHeight));t!==r.index&&this.changeIndex(r,t)},20),onDragEnd:f()(()=>{this.trigger(this.settings.events.END)},100),type:"y"}),n=s[e];y.Ay.set(t,{y:n});const r={dragger:a,animation:i,element:t,id:t.getAttribute("data-draggable-page"),index:e,setIndex:(t,e)=>{r.index=t,r.itemHeight=e[t],a.isDragging||o()},itemHeight:n,resize:()=>{const s=this.calculateOffsets(this.holder.querySelectorAll(this.settings.DOM.page))[e];r.itemHeight=s,y.Ay.set(t,{y:s})}};return r}arrayMove(t,e,s){t.splice(s,0,t.splice(e,1)[0])}show(t=.3){return y.Ay.fromTo(this.holder,{xPercent:-105},{xPercent:0,ease:"power3.out",duration:.9,delay:t})}hide(){return y.Ay.fromTo(this.holder,{xPercent:0},{xPercent:-105,ease:"power3.out",duration:.9})}onResize(){for(const t of this.sortables)t.resize();y.Ay.set(this.holder,{height:this.totalHeight})}createImage({url:t,imageUrl:e}){return new Promise(s=>{const i=document.createElement("img");i.width=58,i.height=58;const o=document.createElement("div");o.classList.add("draggable-item"),o.setAttribute("data-draggable-page",t),i.setAttribute("data-page-preview",t),i.setAttribute("alt",`${t} image preview`),o.appendChild(i),this.holder.appendChild(o),this.draggableElements.push(o),i.src=e,i.onload=s})}createScrollableAnimation(t=document.querySelector('[data-component="pages"]')){y.Ay.timeline({paused:!0,scrollTrigger:{trigger:t,scroller:this.app.customScroll.settings.wrapper,start:"top top",end:"bottom bottom",scrub:!0,invalidateOnRefresh:!0}}).fromTo(this.holder,{y:0},{y:()=>{const t=c(this.holder);return-(t.height-this.app.sizes.height+t.top+this.app.sizes.rem(35))},ease:"none"})}destroy(){for(const t of this.sortables)t.dragger.kill(),t.animation.kill()}}class nt extends a{constructor(){super(),this.app=new lt,this.holder=document.querySelector('[data-component="pages"]'),this.pagesGrid=this.holder.querySelector(".pages-grid"),this.stickyNav=new at(document.querySelector("[data-sticky-nav]")),this.pageContainers=[...this.holder.querySelectorAll("[data-page]")],this.casePage=new st,this.pagesOrder={"/":["/","/books/","/contacts/","/credits/"],"/books/":["/books/","/","/contacts/","/credits/"],"/credits/":["/credits/","/","/books/","/contacts/"],"/contacts/":["/contacts/","/","/books/","/credits/"]},this.thumbs={"/":"/assets/static/about.avif","/books/":"/assets/static/books.avif","/contacts/":"/assets/static/contacts.avif","/credits/":"/assets/static/logo.png"},this.pageNaming={"/":"About","/books/":"Books","/credits/":"Credits","/contacts/":"Contacts"}}async init(){if(this.pageOrder=this.getPageOrder(),this.createdPages=[],this.createdPagesInsets=[],this.animations=[],this.createdCanvases=[],this.contentToRemove=document.querySelector("[data-page-content]"),this.pageCreatePromises=await Promise.all(this.pageOrder.currentOrder.map(this.createPage)),[...document.querySelectorAll("img[data-particle-image]")].length){const t=new E;await t.init(),this.createdCanvases.push(t)}this.stickyNav.init(),this.casePage.init(),this.pageOrder.isCasePage&&await this.casePage.createCasePage(this.pageOrder),this.trigger(p)}async createPage(t){try{let e;const s=document.querySelector(`[data-page="${t}"]`);if(this.contentToRemove.getAttribute("data-page-content")!==t){const s=await fetch(t),i=await s.text(),o=document.createElement("div");o.innerHTML=i,e=o.querySelector("[data-page-content]")}else e=this.contentToRemove;const i=this.getPageOrder(t),o=e.firstChild;if(s.style.zIndex=i.index,s.insertAdjacentElement("afterbegin",e),[...o.querySelectorAll("img[data-gl]")].length){const t=new et(o);await t.init(),this.createdCanvases.push(t)}await this.createPageScreenshot({container:o,url:t}),this.createdPages.push(e),this.createdPagesInsets.push(o)}catch(t){window.location.href="/"}}async start(){this.attachEvents(),this.createPageScrollableAnimation(),this.pageOrder.isCasePage&&this.casePage.createScrollableAnimation(),this.stickyNav.createScrollableAnimation(this.holder)}attachEvents(){for(const t of this.createdPagesInsets)t.addEventListener("click",this.onPageClick);this.stickyNav.on(this.stickyNav.settings.events.END,this.rearrangePages),this.casePage.attachEvents()}onPageClick(t){const e=t.target.closest("[data-page-content]").getAttribute("data-page-content"),s=this.getPageOrder(e),i=this.pagesOrder[e];s.currentOrder!==i&&(this.app.navigation.mobileActivePageImage.src=this.thumbs[e],this.app.navigation.mobileActivePageLabel.innerText=this.pageNaming[e],this.rearrangePages(i),this.casePage.activeCase&&this.casePage.closeActiveCase())}createPageScrollableAnimation(){for(const t of this.createdPages){const e=this.createSingleScrollableAnimation(t);this.animations.push(e)}}createSingleScrollableAnimation(t){const e=y.Ay.timeline({paused:!0,scrollTrigger:{trigger:this.holder,scroller:this.app.customScroll.settings.wrapper,start:"top top",end:"bottom bottom",scrub:!0,invalidateOnRefresh:!0}});if(window.innerWidth>=1024){const s=()=>{const e=c(t);return this.app.customScroll.scroll.dimensions.scrollHeight-e.height};e.fromTo(t,{y:0},{y:s,ease:"none"})}return e}rearrangePages(t=this.stickyNav.previewsOrder){this.casePage.activeCase&&this.casePage.closeActiveCase(!1),G(t[0]),this.app.linkManager.setActiveLinks(),this.hidePages(t).eventCallback("onComplete",()=>{this.shufflePageQuick(t),this.stickyNav.setOrder(t),this.showPages()})}shufflePageQuick(t){this.casePage.activeCase&&this.casePage.closeActiveCase(!1),G(t[0]),this.app.linkManager.setActiveLinks(),document.body.classList.remove("reveal-secret"),this.updatePagesOrder(t)}updatePagesOrder(t){t.forEach((e,s)=>{const i=this.pageContainers.find(t=>t.getAttribute("data-page")===e),o=t.length-s;i.style.zIndex=o,i.classList.remove("page-is-active"),0===s&&i.classList.add("page-is-active")}),this.app.updateAnalytics()}showPages(t=.1){return y.Ay.to(this.createdPagesInsets,{y:0,rotate:0,delay:t,stagger:.05,ease:"power3.out",duration:.8,onComplete:()=>{r.classList.remove("pages-animating")}})}showPagesNew(t=.5){const e=this.app.navigation.hideDesktop();return y.Ay.delayedCall(e.duration(),()=>{r.classList.remove("pages-animating")}),e}hidePages(t=this.stickyNav.previewsOrder,e){return r.classList.add("pages-animating"),y.Ay.to(this.createdPagesInsets,{y:()=>this.app.sizes.height+this.app.customScroll.scroll.actualScroll,rotate:t=>t%2?4:-4,stagger:.05,ease:"power3.in",duration:.35,onComplete:()=>{e&&e(),this.updatePagesOrder(t)}})}hidePagesNew(t=this.stickyNav.previewsOrder,e){r.classList.add("pages-animating");const s=this.app.navigation.showDesktop();return y.Ay.delayedCall(s.duration(),()=>{e&&e(),this.updatePagesOrder(t)}),s}onResize(){this.stickyNav.onResize();for(const t of this.createdCanvases)t.onResize()}revealPages(){this.pageOrder.isCasePage&&this.casePage.showActiveCase("105svh"),y.Ay.fromTo(this.createdPages,{y:"105svh",rotate:t=>t%2?5:-5},{rotate:0,y:0,stagger:-.05,ease:"power2.inOut",duration:.8}),this.stickyNav.show()}getPageOrder(t){const e=V(),s=this.casePage.isCasePage(e),i=this.pagesOrder[e]||this.pagesOrder["/books/"];return{index:i.length-i.indexOf(t),currentOrder:i,currentPage:e,isCasePage:s}}async createPageScreenshot({url:t}){try{return await this.stickyNav.createImage({url:t,imageUrl:this.thumbs[t]})}catch(t){console.error("Error creating page screenshot:",t)}}update(t){for(const e of this.createdCanvases)e.onUpdate(t)}destroy(){super.destroy(),this.stickyNav.destroy(),this.stickyNav.off(this.stickyNav.settings.events.END),this.casePage.destroy();for(const t of this.animations)t.kill()}}class rt extends o{constructor(t){super(),this.holder=t,this.toggleButtons=[...document.querySelectorAll("[data-reveal-secret-toggle]")],this.attachEvents()}attachEvents(){for(const t of this.toggleButtons)t.addEventListener("click",this.onToggleClick)}onToggleClick(){document.body.classList.toggle("reveal-secret")}}class lt extends o{constructor(){if(super(),lt.instance)return lt.instance;n.isIE?(()=>{const t=document.querySelector('[data-component="preloader"]'),e=document.body,s=document.createElement("div"),i=document.createElement("div");i.setAttribute("class","w-full max-w-screen-lg mx-auto"),s.setAttribute("class","absolute w-full h-full z-50 text-xl lg:text-3xl flex items-center justify-center flex-col text-center p-60 bg-black text-white"),i.innerHTML="Your browser is not supported. <br><br> Please use the latest version of Chrome, Safari or Firefox for the best experience on this site.",t&&t.remove(),e.innerHTML="",s.appendChild(i),e.appendChild(s)})():(n.isTouch?r.classList.add("touchevents"):r.classList.add("no-touchevents"),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.app=this,lt.instance=this,this.sizes=new w,this.time=new b,this.pages=new nt,this.navigation=new Q,this.preloader=new I,this.linkManager=new Z,this.screenSaver=new T,this.drawing=new R,this.init())}get isDebug(){return"#debug"===window.location.hash}async initDefault(){await document.fonts.ready,await this.pages.init(),this.removeLoadingScreen(),this.customScroll=new $,this.animationManager=new S,this.componentManager=new M,this.revealSecrent=new rt,this.attachEvents(),await this.preloader.animate(),this.onLoaded(),this.pages.revealPages(),this.linkManager.setActiveLinks(),setTimeout(()=>{this.customScroll.init(),this.animationManager.start(),this.pages.start(),this.screenSaver.init(),this.drawing.init(),r.classList.add("is-ready")},800)}async initDebug(){r.classList.add("is-debug"),await document.fonts.ready;const t=new et(document.querySelector(".inset-wrapper"));await t.init(),this.time.on("tick",t.onUpdate),this.onLoaded()}async init(){return this.isDebug?await this.initDebug():await this.initDefault()}attachEvents(){this.drawing.attachEvents(),this.time.on("tick",this.update),this.sizes.on("resize",this.onResize)}onResize(){this.drawing.onResize(),this.navigation.onResize(),this.customScroll.onResize(),this.componentManager.onResize(),this.animationManager.onResize(),this.pages.onResize(),this.preloader.onResize(),this.screenSaver.onResize()}update(t){this.pages.update(t),this.customScroll.update(t),this.animationManager.update(t),this.screenSaver.update()}updateAnalytics(){window.ga&&(window.ga("set","page",window.location.pathname),window.ga("send","pageview"))}showLoadingScreen(){r.classList.add("show-loading-screen")}removeLoadingScreen(){r.classList.remove("show-loading-screen")}onLoaded(){r.classList.add("is-loaded"),r.classList.remove("is-loading")}destroy(){this.sizes&&this.sizes.destroy(),this.preloader&&this.preloader.destroy(),this.customScroll&&this.customScroll.destroy(),this.navigation&&this.navigation.destroy(),this.animationManager&&this.animationManager.destroy(),this.componentManager&&this.componentManager.destroy()}}new lt},"./src/assets/styles/index.scss":()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,["vendor.gsap","vendor.three"],()=>(e("./src/assets/js/index.js"),e("./src/assets/styles/index.scss"))),t.O()}]);