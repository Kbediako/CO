# Collab + RLM evals (2026-01-22)

## Run 1: Large-context symbolic RLM with collab subcalls (smoke)
- Goal: Validate collab JSONL capture and symbolic RLM subcall path under a multi‑MB context.
- Context source: `out/0955-collab-orchestrator-integration/evals/large-context.txt` (~1.78 MB, concatenated docs + tasks).
- Env: `RLM_MODE=symbolic`, `RLM_SYMBOLIC_COLLAB=1`, `RLM_MAX_ITERATIONS=2`, `RLM_MAX_MINUTES=15`, `RLM_VALIDATOR=none`; goal instructed a final answer after at least one subcall.
- Result: **Succeeded (passed)** with two symbolic iterations and collab subcall artifacts.
- Evidence: `.runs/0955-collab-orchestrator-integration/cli/2026-01-22T06-09-33-041Z-6fad25a7/manifest.json`.
- Notes: Prior failures (invalid_config) from earlier planner parsing attempts remain on record: `.runs/0955-collab-orchestrator-integration/cli/2026-01-22T05-09-10-530Z-92da9d86/manifest.json` and earlier entries in `tasks/specs/0955-collab-orchestrator-integration.md`.

## Next evals (queued)
- Multi-hour refactor with checkpoints (4–8h).
- 24h pause/resume context-rot regression.
- Multi-day initiative (48–72h) with multiple resumes.

## Eval playbook
- Canonical playbook lives at `docs/guides/evaluation-playbook.md`.
- Metrics reference: `docs/reference/metrics-collab-context-rot.md`.

## Run 2: Cross-package dependency upgrade (design-reference-tools)
- Goal: Validate collab-assisted planning + cross-package dependency alignment.
- Plan run: collab exec with sub-agent scan over `packages/design-reference-tools` confirmed no remaining React 18.2.0 entries after alignment.
- Changes: upgraded React/ReactDOM to 18.3.1 in `packages/design-reference-tools/apps/web/package.json`; aligned `react`, `react-dom`, and `@types/react` in `packages/design-reference-tools/packages/ui/package.json` (dev + peer).
- Result: **Succeeded**; collab tool calls captured in manifest and versions aligned.
- Evidence: `.runs/0955-collab-orchestrator-integration/cli/2026-01-22T06-20-14-418Z-90a5d7e1/manifest.json`.

## Run 3: Multi-hour refactor with checkpoints (run-path consolidation)
- Goal: Consolidate duplicated run/task path resolution and demonstrate checkpointed refactor flow.
- Checkpoint 1 (discovery): collab sub-agent scanned duplicated path resolution and flagged CLI vs legacy layout divergence. Evidence: `.runs/0955-collab-orchestrator-integration/cli/2026-01-22T07-14-45-894Z-7b0ffa51/manifest.json`.
- Checkpoint 2 (implementation): added `resolveRunDir` helper in `scripts/lib/run-manifests.js` and reused it in `scripts/design/pipeline/context.ts` and `orchestrator/src/sync/CloudSyncWorker.ts`; updated `scripts/lib/run-manifests.d.ts`.
- Checkpoint 3 (validation): `npm run build` (local) completed successfully.
- Result: **Succeeded** (helper consolidation + build pass).

## Run 4: 24h pause/resume context-rot regression (in progress)
- Goal: Hold a run paused for 24h, then resume and verify continuity.
- Pipeline: `pause-eval` (sleep 120, then resume marker).
- Action: Pause requested during `pause-window` stage; run is now paused before `resume-marker`.
- Status: **Paused** as of 2026-01-22T07:43:27Z; awaiting 24h hold + resume.
- Evidence: `.runs/0955-collab-orchestrator-integration/cli/2026-01-22T07-43-11-038Z-21fe6295/manifest.json`.
- Notes: Requires keeping the orchestrator session alive; resume will be triggered via control endpoint after 24h. Tracking issue: https://github.com/Kbediako/CO/issues/178.
