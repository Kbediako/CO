# Action Plan - Frontend Testing as Core Orchestrator Capability (Task 0915)

## Status Snapshot
- Current Phase: Implementation complete
- Run Manifest Link: `.runs/0915-frontend-testing-core/cli/2025-12-29T05-23-35-362Z-7d4eaa4b/manifest.json`
- Metrics / State Snapshots: `.runs/0915-frontend-testing-core/metrics.json`, `out/0915-frontend-testing-core/state.json`
- Approvals / Escalations: recorded in `tasks/index.json`

## Evidence Notes
- `metrics.json` is NDJSON (one JSON object per line; a single run may appear as one line); parse it line-by-line.
- Diff-budget override reason lives in `.runs/0915-frontend-testing-core/cli/2025-12-29T05-23-35-362Z-7d4eaa4b/commands/06-diff-budget.ndjson`.
- `out/0915-frontend-testing-core/state.json` is generated by metrics aggregation (updated 2025-12-29).
- Doctor readiness evidence is covered by `npm run test` (specifically `orchestrator/tests/Doctor.test.ts`) in the implementation-gate manifest.

## Milestones & Tasks
1. Planning + docs alignment
   - Draft PRD/tech spec/action plan/checklist/mini-spec.
   - Capture docs-review manifest (`docs-review` pipeline) and update mirrors.
   - Update `tasks/index.json` gate metadata after approvals.
2. Implementation (core behavior)
   - Add the `frontend-testing` pipeline in `codex.orchestrator.json` with explicit DevTools enablement via `CODEX_REVIEW_DEVTOOLS=1`.
   - Add frontend testing CLI entrypoint compiled into `dist/**`.
   - Move DevTools enablement logic into a runtime module (no `scripts/` dependency).
   - Extend `doctor` with DevTools readiness checks and install guidance.
3. Validation + rollout
  - Add tests for devtools default-off/explicit-on behavior.
  - Add pipeline tests verifying env flags for frontend testing.
  - Update README/agent docs with usage and enablement rules.
  - Run implementation gate and capture evidence.

## Risks & Mitigations
- DevTools MCP/skills unavailable in some environments.
  - Mitigation: `doctor` outputs actionable setup steps; docs instruct running `doctor` before devtools pipelines because there is no preflight check.
- Packaged CLI still depends on repo-only scripts.
  - Mitigation: move devtools helper into `orchestrator/src/cli` and add tests.

## Next Review
- Date: 2026-01-06
- Agenda: confirm pipeline naming, devtools enablement UX, and required skills list.
